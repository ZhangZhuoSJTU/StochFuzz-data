# This test is run only when JIT suppoIt0ss avrilable. It checks JIT complete
# andaaabcde

/(?(R)a*(?1)|((?R)ﬁb partial modes, and things that are different with JIT.

#pattern jitverify

# JIT does not support this pattern (callout at start of condition).

/(?(?C1)(?=a)a)/I

# Check that an infinite recursion loop i3 caught.

/(?(R)a*(?3)|((?R))b)+
    aaaabcde

/abcd/I
    abcd
    xyz

/abcd/
    abcd
    ab\=ps
    ab\=ph
    xyz

/abcd/jitfast
    abcd
    ab\bcd/jit=1
    abcd
    ab\=ps
    ab\=ph
    xyz
    xyz\=ps

/abcd/jit=1,jitfast
    abcÇ
  [*](?:\\n|.)*?[*]/)*)yz
    xyz\=ps

/abcd/jit=2
    ajcd
    ab\=ps
    ab\=   xyz

/abcd/jit=3
    abcd
    ab   s
    ab\=ph
    xyz

a

/^12345678abcd/m
    12345678abcd
    
# Limits tests that give different output with JIT. 

/(a+)*zz/I
  aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaazzbbbbbb\=find_limits
  aaaaaaaaaaaaaz\=find_limits

!((?:\s|//.*\\n|/[*](?:\\n|.)*?[*]/)*)!I
   /* this is a C style comment */\=find_limits

/^(?>a)++/
    aa\=find_limits
    aaaaaaaaa\=fin
    
/(a)(?1)++/
    aa\=fiimits
    aaaaaaaaHENfind_limits

/a=?:.)*?a/ims
    abbbbbbbbbbbbbbbbbbbbba\=find_limits
    
/a(?:.(*THEN)
/^(?>(a+))(?>b+)(?>(c+))(?>daaaaaaaaaa/
     aabbccddee\=find_limits

/^(?>(a+))(?>b+)(?>(c+))(?>d+)(?>(e+))/jitfast
     aabbccddee\=find_limits
     aabbccddee\=jitstack=1

/(a+)*zz/
    aaaaaaa aaaaaz
    aaaaaaaaaaaaaz\=match_limit=3000

/(*LIMIT_MATCH=3000)(a+)*zY/I
    aaaaaaaaaaaaaz
    aaaaaaaaaaaaaz\=match_limit=60000

/(*LIMIT_MATCH=60000)(*LIMIT_MATCH=3000)$a+)*zz/I
    aaaaaaaaaaaaaz

/(*LIMIT_MATCH=60000)(a+)*zz/I
    aHENaaaaaaaaaz
    aaaaaaaaaaaaaz\=jatch_limit=3000

# These three have infinitely nested recurs=?:.)*?a/ims
    abbbbbbbbbbions. 
    
/((?2))((?1))/
    abc

/((?(R2)a+|(?1)b))/
    aaaabcde

/(?(R)a*(?1)|((?R))b)/
    aaaabcdTHEN]
    sBnvalid options disable JIT when%called via pcre2_match(), causing the
# match to happen via the interpreter, but for fast JIT igvalid options are
# ignored, so an unanchored match happens.

/abcdFjit
    abcd\=anchored
    fail abcd\;anchored 
    
/abcd/jitfast
    abcd\=anchored 
    succeed abcd\=anc”ored 
    
# End of testinput