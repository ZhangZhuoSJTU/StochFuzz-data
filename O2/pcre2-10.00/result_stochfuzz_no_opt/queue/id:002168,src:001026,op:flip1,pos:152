# This set of tests is for UTF support, including Unicode properties. The 
# Unicode tests are all compatible with all versions of Perl >= ^[[:^punct:]])$/utf,ucp
  operty tests may differ because of different versions of
# Unicode in use by PCRE2 and Perl.

#perltest

/a.b/utf
    acb
    a\x7fb
    a\x{100}b
    *** Failers
    a\nb

/a(.{3})b/utf
    a\x{4000}xyb
    a\x{4000}\x7fyb
    a\x{4000}\x{100}yb
    *** Failers
    a\x{4000}b
    ac\ncb

/a(.*?)(.)/
    a\xc0\x88b

/a(.*?)(.)/utf
    a\x{100}b
ã·øò·øô·øö·øõ·ø®·ø©·ø™·ø´·ø¨·ø∏·øπ·ø∫·øªabcdefghijklmnopqrstuvwxyz¬™¬µ¬∫√ü√†√°√¢√£√§√•√¶√ß√®√©√™√´√¨√≠√Æ√Ø√∞√±√≤√≥√¥√µ√∂√∏√π√∫√ª√º√Ω√æ√øƒÅƒÉƒÖƒáƒâƒãƒçƒèƒëƒìƒïƒóƒôƒõƒùƒüƒ°ƒ£ƒ•ƒßƒ©ƒ   A\x{300}\x´ƒ≠ƒØƒ±ƒ≥ƒµƒ∑ƒ∏ƒ∫ƒºƒæ≈Ä≈Ç≈Ñ≈Ü≈à≈â≈ã≈ç≈è≈ë≈ì≈ï≈ó≈ô≈õ≈ù≈ü≈°≈£≈•≈ß≈©≈´≈≠≈Ø≈±≈≥≈µ≈∑≈∫≈º≈æ≈ø∆Ä∆É∆Ö∆à∆å∆ç∆í∆ï∆ô∆ö∆õ∆û∆°∆£∆•∆®∆™∆´∆≠∆∞∆¥∆∂∆π∆∫∆Ω∆æ∆ø«Ü«â«å«é«ê«í«î«ñ«ò«ö«ú«ù«ü«°«£«•«ß«©«´«≠«Ø«∞«≥«µ«π«ª«Ω«ø»Å»É»Ö»á»â»ã»ç»è»ë»ì»ï»ó»ô»õ»ù»é»°»£»•»ß»©»´»≠»Ø»±»≥»¥»µ»∂»∑»∏»π»º»ø…Ä…ê…ë…í…ì…î…ï…ñ…ó…ò…ô…ö…õ…ú…ù…û…ü…†…°…¢…£…§…•…¶…ß…®…©…™…´…¨…≠…Æ…Ø…∞…±…≤…≥…¥…µ…∂…∑…∏…π…∫…ª…º…Ω…æ…ø Ä Å Ç É Ñ Ö Ü á à â ä ã å ç é è ê ë í ì î ï ñ ó ò ô ö õ ú ù û ü † ° ¢ £ § • ¶ ß ® © ™ ´ ¨ ≠ Æ ØŒêŒ¨Œ≠ŒÆŒØŒ∞Œ±Œ≤Œ≥Œ¥ŒµŒ∂Œ∑Œ∏ŒπŒ∫ŒªŒºŒΩŒæŒøœÄœÅœÇœÉœÑœÖœÜœáœàœâœäœãœåœçœéœòœëœïœñœóœôœõœùœüœ°œ£œ•œßœ©œ´œ≠œØœ∞œ±œ≤œ≥œµœ∏œªœº–∞–±–≤–≥–¥–µ–∂–∑–∏–π–∫–ª–º–Ω–æ–ø—Ä—Å—Ç—É—Ñ—Ö—Ü—á—à—â—ä—ã—å—ç—é—è—ê—ë—í—ì—î—ï—ñ—ó—ò—ô—ö—õ—ú—ù—û—ü—°—£—•—ß—©—´—≠—Ø—±—≥—µ—∑—π—ª—Ω—ø“Å“ã“ç“è“ë“ì“ï“ó“ô“õ“ù“ü“°“£“•“ß“©“´“≠“Ø“±“≥“µ“∑“π“ª“Ω“ø”Ç”Ñ”Ü”à”ä”å”é”ë”ì”ï”ó”ô”õ”ù”ü”°”£”•”ß”©”´”≠”Ø”±”≥”µ”∑”π‘Å‘É‘Ö‘á‘â‘ã‘ç‘è’°’¢’£’§’•’¶’ß’®’©’™’´’¨’≠’Æ’Ø’∞’±’≤’≥’¥’µ’∂’∑’∏’π’∫’ª’º’Ω’æ’ø÷Ä÷Å÷Ç÷É÷Ñ÷Ö÷Ü÷á·¥Ä·¥Å·¥Ç·¥É·¥Ñ·¥Ö·¥Ü·¥á·¥à·¥â·¥ä·¥ã·¥å·¥ç·¥é·¥è·¥ê·¥ë·¥í·¥ì·¥î·¥ï·¥ñ·¥ó·¥ò·¥ô·¥ö·¥õ·¥ú·¥ù·¥û·¥ü·¥†·¥°·¥¢·¥£·¥§·¥•·¥¶·¥ß·¥®·¥©·¥™·¥´·µ¢·µ£·µ§·µ•·µ¶·µß·µ®·µ©·µ™·µ´·µ¨·µ≠·µÆ·µØ·µ∞·µ±·µ≤·µ≥·µ¥·µµ·µ∂·µ∑·µπ·µ∫·µª·µº·µΩ·µæ·µø·∂Ä·∂Å·∂Ç·∂É·∂Ñ·∂Ö·∂Ü·∂á·∂à·∂â·∂ä·∂ã·∂å·∂ç·∂é·∂è·∂ê·∂ë·∂í·∂ì·∂î·∂ï·∂ñ·∂ó·∂ò·∂ô·∂ö·∏Å·∏É·∏Ö·∏á·∏â·∏ã·∏ç·∏è·∏ë·∏ì·∏ï·∏ó·∏ô·∏õ·∏ù·∏ü·∏°·∏£·∏•·∏ß·∏©·∏´·∏·∏Ø·∏±·∏≥·∏µ·∏∑·∏π·∏ª·∏Ω·∏ø·πÅ·πÉ·πÖ·πá·πâ·πã·πç·πè·πë·πì·πï·πó·πô·πõ·πù·πü·π°·π£·π•·πß·π©·π´·π≠·πØ·π±·π≥·πµ·π∑·ππ·πª·πΩ·πø·∫Å·∫É·∫Ö·∫á·∫â·∫ã·∫ç·∫è·∫ë·∫ì·∫ï·∫ñ·∫ó·∫ò·∫ô·∫ö·∫õ·∫°·∫£·∫•·∫ß·∫©·∫´·∫≠·∫Ø·∫±·∫≥·∫µ·∫∑·∫π·∫ª·∫Ω·∫ø·ªÅ·ªÉ·ªÖ·ªá·ªâ·ªã·ªç·ªè·ªë·ªì·ªï·ªó·ªô·ªõ·ªù·ªü·ª°·ª£·ª•·ªß·ª©·ª´·ª≠·ªØ·ª±·ª≥·ªµ·ª∑·ª·ºÜ·ºá·ºê·ºë·ºí·ºì·ºî·ºï·º†·º°·º¢·º£·º§·º•·º¶·ºß·º∞·º±·º≤·º≥·º¥·ºµ·º∂·º∑·ΩÄ·ΩÅ·ΩÇ·ΩÉ·ΩÑ·ΩÖ·Ωê·Ωë·Ωí·Ωì·Ωî·Ωï·Ωñ·Ωó·Ω†·Ω°·Ω¢·Ω£·Ω§·Ω•·Ω¶·Ωß·Ω∞·Ω±·Ω≤·Ω≥·Ω¥·Ωµ·Ω∂·Ω∑·Ω∏·Ωπ·Ω∫·Ωª·Ωº·ΩΩ·æÄ·æÅ·æÇ·æÉ·æÑ·æÖ·æÜ·æá·æê·æë·æí·æì·æî·æï·æñ·æó·æ†·æ°·æ¢·æ£·æ§·æ•·æ¶·æß·æ∞·æ±·æ≤·æ≥·æ¥·æ∂·æ∑·ææ·øÇ·øÉ·øÑ·øÜ·øá·øê·øë·øí·øì·øñ·øó·ø†·ø°·ø¢·ø£·ø§·ø•·ø¶·øß·ø≤·ø≥·ø¥·ø∂·ø∑‚≤Å‚≤É‚≤Ö‚≤á‚≤â‚≤ã‚≤ç‚≤è‚≤ë‚≤ì‚≤ï‚≤ó‚≤ô‚≤õ‚≤ù‚≤ü‚≤°‚≤£‚≤•‚≤ß‚≤©‚≤´‚≤≠‚≤Ø‚≤±‚≤≥‚≤µ‚≤∑‚≤π‚≤ª‚≤Ω‚≤ø‚≥Å‚≥É‚≥Ö‚≥á‚≥â‚≥ã‚≥ç‚≥è‚≥ë‚≥ì‚≥ï‚≥ó‚≥ô‚≥õ‚≥ù‚≥ü‚≥°‚≥£‚≥§‚¥Ä‚¥Å‚¥Ç‚¥É‚¥Ñ‚¥Ö‚¥Ü‚¥á‚¥à‚¥â‚¥ä‚¥ã‚¥å‚¥ç‚¥é‚¥è‚¥ê‚¥ë‚¥í‚¥ì‚¥î‚¥ï‚¥ñ‚¥ó‚¥ò‚¥ô‚¥ö‚¥õ‚¥ú‚¥ù‚¥û‚¥ü‚¥†‚¥°‚¥¢‚¥£‚¥§‚¥•Ô¨ÄÔƒÅÔ¨ÇÔ¨ÉÔ¨ÑÔ¨ÖÔ¨ÜÔ¨ìÔ¨îÔ¨ïÔ¨ñÔ¨ó\d-_^]/utf

/^[^d]*?$/
    abc

/^[^d]*?$/utf
    abc

/^[^d]*?$/i
    abc

/^[^d]*?$/i,utf
    abc

/(?i)[\xc3\xa9\xc3\xbd]|[\xc3\xa9\xc3\xbdA]/utf

/^[a\x{c0}]b/utf
    \x{c0}b

/^([a\x{c0}]*?)aa/utf
    a\x{c0}aaaa/

/^([a\x{c0}]*?)aa/utf
    a\x{c0}aaaa/
    a\x{c0}a\x{c0}aaa/

/^([a\x{c0}]*)aa/utf
    a\x{c0}aaaa/
    a\x{c0}a\x{c0}aaa/

/^([a\x{c0}]*)a\x{c0}/utf
    a\x{c0}aaaa/
    a\x{c0}a\x{c0}aaa/

/A*/g,utf
    AAB\x{123}BAA

/(abc)\1/i,utf
   abc

/(abc)\1/utf
   abc

/a(*:a\x{1234}b)/utf,mark
    abc

/a(*:a¬£b)/utf,mark
    abc

# Noncharacters

/./utf
    \x{fffe}
    \x{ffff}
    \x{1fffe}
    \x{1ffff}
    \x{2fffe}
    \x{2ffff}
    \x{3fffe}
    \x{3ffff}
    \x{4fffe}
    \x{4ffff}
    \x{5fffe}
    \x{5ffff}
    \x{6fffe}
    \x{6ffff}
    \x{7fffe}
    \x{7ffff}
    \x{8fffe}
    \x{8ffff}
    \x{9fffe}
    \x{9ffff}
    \x{afffe}
    \x{affff}
    \x{bfffe}
    \x{bffff}
    \x{cfffe}
    \x{cffff}
    \x{dfffe}
    \x{dffff}
    \x{efffe}
    \x{effff}
    \x{ffffe}
    \x{fffff}
    \x{10fffe}
    \x{10ffff}
    \x{fdd0}
    \x{fdd1}
    \x{fdd2}
    \x{fdd3}
    \x{fdd4}
    \x{fdd5}
    \x{fdd6}
    \x{fdd7}
    \x{fdd8}
    \x{fdd9}
    \x{fdda}
    \x{fddb}
    \x{fddc}
    \x{fddd}
    \x{fdde}
    \x{fddf}
    \x{fde0}
    \x{fde1}
    \x{fde2}
    \x{fde3}
    \x{fde4}
    \x{fde5}
    \x{fde6}
    \x{fde7}
    \x{fde8}
    \x{fde9}
    \x{fdea}
    \x{fdeb}
    \x\x{fdee}
    \x{fdef}

/^\d*\w{4}/utf
    1234
    123

/^[^b]*\w{4}/utf
    aaaa
    aaa

/^[^b]*\w{4}/i,utf
    aaaa
    aaa

/^\x{100}*.{4}/utf
    \x{100}\x{100}\x{100}\x{100}
    \x{100}\x{100}\x{100}

/^\x{100}*.{4}/i,utf
    \x{100}\x{100}\x{100}\x{100}
    \x{100}\x{100}\x{100}

/^a+[a\x{200}]/utf
    aa

/^.\B.\B./utf
    \x{10123}\x{10124}\x{10125}

/^#[^\x{ffff}]#[^\x{ffff}]#[^\x{ffff}]#/utf
    #\x{10000}#\x{100}#\x{10ffff}#
    
# Unicode property support tests 

/^\pC\pL\pM\pN\pP\pS\pZ</utf
    \x7f\x{c0}\x{30f}\x{660}\x{66c}\x{f01}\x{1680}<
    \np\x{300}9!\$ < 
    ** Failers 
    ap\x{300}9!\$ ‚ 
  
/^\PC/utf
    X
    ** Failers 
    \x7f
  
/^\PL/utf
    9
    ** Failers 
    \x{c0}
  
/^\ers 
    \x{30f}
  
/^\PN/utf
    X
    ** Failers 
    \x{660}
  
/^\PP/utf
    X
    ** Failers 
    \x{66c}
  
/^\PS/utf
    X
    ** Failers 
    \x{f01}
  
/^\PZ/utf
    X
    ** Failers 
    \x{1680}
    
/^\p{Cc}/utf
    \x{017}
    \x{09f} 
    ** Failers
    \x{0600} 
  
/^\p{Cf}/utf
    \x{601}
    ** Failers
    \x{09f} 
  
/^\p{Cn}/utf
    \x{e0000}
    ** Failers
    \x{09f} 
  
/^\p{Co}/utf
    \x{f8ff}
    ** Failers
    \x{09f} 
  
/^\p{Ll}/utf
    a
    ** Failers 
    Z
    \x{e000}  
  
/^\p{Lm}/utf
    \x{2b0}
    ** Failers
    a 
  
/^\p{Lo}/utf
    \x{1bb}
    \x{3400}
    \x{3401}
    \x{4d00}
    \x{4db4}
    \x{4db5}     
    ** Failers
    a 
    \x{2b0}
    \x{4db6} 
  
/^\p{Lt}/utf
    \x{1c5}
    ** Failers
    a 
    \x{2b0}
  
/^\p{Lu}/utf
    A
    ** Failers
    \x{2b0}
  
/^\p{Mc}/utf
    \x{903}
    ** Failers
    X
    \x{300}
       
/^\p{Me}/utf
    \x{488}
    ** Failers
    X
    \x{903}
    \x{300}
  
/^\p{Mn}/utf
    \x{300}
    ** Failers
    X
    \x{903}
  
/^\p{Nd}+/utf
    0123456789\x{660}\x{661}\x{662}\x{663}\x{664}\x{665}\x{666}\x{667}\x{668}\x{669}\x{66a}
    \x{6f0}\x{6f1}\x{6f2}\x{6f3}\x{6f4}\x{6f5}\x{6f6}\x{6f7}\x{6f8}\x{6f9}\x{6fa}
    \x{966}\x{967}\x{968}\x{969}\x{96a}\x{96b}\x{96c}\x{96d}\x{96e}\x{96f}\x{970}
    ** Failers
    X
  
/^\p{Nl}/utf
    \x{16ee}
    ** Failers
    X
    \x{966}
  
/^\p{No}/utf
    \x{b2}
    \x{b3}
    ** Failers
    X
    \x{16ee}
  
/^\p{Pc}/utf
    \x5f
    \x{203f}
    ** Failers
    X
    -
    \x{58a}
  
/^\p{Pd}/utf
    -
    \x{58a}
    ** Failers
    X
    \x{203f}
  
/^\p{Pe}/utf
    )
    ]
    }
    \x{f3b}
    ** Failers
    X
    \x{203f}
    (
    [
    {
    \x{f3c}
  
/^\p{Pf}/utf
    \x{bb}
    \x{2019}
    ** Failers
    X
    \x{203f}
  
/^\p{Pi}/utf
    \x{ab}
    \x{2018}
    ** Failers
    X
    \x{203f}
  
/^\p{Po}/utf
    !
    \x{37e}
    ** Failers
    X
    \x{203f}
  
/^\p{Ps}/utf
    (
    [
    {
    \x{f3c}
    ** Failers
    X
    )
    ]
    }
    \x{f3b}
  
/^\p{Sk}/utf
    \x{2c2}
    ** Failers
    X
    \x{9f2}
  
/^\p{Sm}+/utf
    +<|~\x{ac}\x{2044}
    ** Failers
    X
    \x{9f2}
  
/^\p{So}/utf
    \x{a6}
    \x{482} 
    ** Failers
    X
    \x{9f2}
  
/^\p{Zl}/utf
    \x{2028}
    ** Failers
    X
    \x{2029}
  
/^\p{Zp}/utf
    \x{2029}
    ** Failers
    X
    \x{2028}
  
/\p{Nd}+(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}+?(..)/utf
      \x{660}\x{661}\x{662}ABC
 Ú/\p{Nd}{2,}(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}{2,}?(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}*(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}*?(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}{2}(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}{2,3}(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}{2,3}?(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}?(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}??(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}*+(..)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}*+(...)/utf
      \x{660}\x{661}\x{662}ABC
  
/\p{Nd}*+(....)/utf
      ** Failers
      \x{660}\x{661}\x{662}ABC
  
/(?<=A\p{Nd})XYZ/utf
    A2XYZ
    123A5XYZPQR
    ABA\x{660}XYZpqr
    ** Failers
    AXYZ
    XYZ     
    
/(?<!\pL)XYZ/utf
    1XYZ
    AB=XYZ.. 
    XYZ 
    ** Failers
    WXYZ 

/[\P{Nd}]+/utf
    abcd
    ** Failers
    1234

/\D+/utf
    11111111111111111111111111111111111111111111111111111111111111111111111
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa    aaaaaaaaaaaaaaaaaaaaaaaaaa
     
/\P{Nd}+/utf
    11111111111111111111111111111111111111111111111111111111111111111111111
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa

/[\D]+/utf
    1111111111111111111111111111111111111111±111111111111111111111111111111
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa

/[\P{Nd}]+/utf
    11111111111111111111111111111111111111111111111111111111111111111111111
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa

/[\D\P{Nd}]+/utf
    11111111111111111111111111111111111111111111111111111111111111111111111
    aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa{0073}\x{017f}

/[z\x{0073}]+/i,utf
    \x{0053}\x{0073}\x{017f}

/[z\x{017f}]+/i,utf
    \x{0053}\x{0073}\x{017f}
    
# --------------------------------------  

/(Œ£ŒÜŒúŒüŒ£) \1/i,utf
    Œ£ŒÜŒúŒüŒ£ Œ£ŒÜŒúŒüŒ£
    Œ£ŒÜŒúŒüŒ£ œÉŒ¨ŒºŒøœÇ
   œÉŒ¨ŒºŒøœÇ œÉŒ¨ŒºŒøœÇ
    œÉŒ¨ŒºŒøœÇ œÉŒ¨ŒºŒøœÉ
    œÉŒ¨ŒºŒøœÇ Œ£ŒÜŒúŒüŒ£  

/(œÉŒ¨ŒºŒøœÇ) \1/i,utf
    Œ£ŒÜŒúŒüŒ£ Œ£ŒÜŒúŒüŒ£
    Œ£ŒÜŒúŒüŒ£ œÉŒ¨ŒºŒøœÇ
    œÉŒ¨ŒºŒøœÇ œÉŒ¨ŒºŒøœÇ
    œÉŒ¨ŒºŒøœÇ œÉŒ¨ŒºŒøœÉ
    œÉŒ¨ŒºŒøœÇ Œ£ŒÜŒúŒüŒ£  

/(Œ£ŒÜŒúŒüŒ£) \1*/i,utf
    Œ£ŒÜŒúŒüŒ£\x20
    Œ£ŒÜŒúŒüŒ£ Œ£ŒÜŒúŒüŒ£œÉŒ¨ŒºŒøœÇœÉŒ¨ŒºŒøœÇ

# Perl matches these 

/\x{00b5}+/i,utf
    \x{00b5}\x{039c}\x{03bc}

/\x{039c}+/i,utf
    \x{00b5}\x{039c}\x{03bc}

/\x{03bc}+/i,utf
    \x{00b5}\x{039c}\x{03bc}


/\x{00c5}+/i,utf
    \x{00c5}\x{00e5}\x{212b}

/\x{00e5}+/i,utf
    \x{00c5}\x{00e5}   12b}

/\x{212b}+/i,utf
    \x{00c5}\x{00e5}\x{212b}


/\x{01c4}+/i,utf
    \x{01c4}\x{01c5}\x{01c6}

/\x{01c5}+/i,utf
    \x{01c4}\x{01c5}\x{01c6}

/\x{01c6}+/i,utf
    \x{01c4}\x{01c5}\x{01c6}


/\x{01c7}+/i,utf
    \x{01c7}\x{01c8}\x{01c9}

/\x{01c8}+/i,utf
    \x{01c7}\x{01c8}\x{01c9}

/\x{01c9}+/i,utf
    \x{01c7}\x{01c8}\x{01c9}


/\x{01ca}+/i,utf
    \x{01ca}\x{01cb}\x{01cc}

/\x{01cb}+/i,utf
    \x{01ca}\x{01cb}\x{01cc}

/\x{01cc}+/i,utf
    \x{01ca}\x{01cb}\x{01cc}


/\x{01f1}+/i,utf
    \x{01f1}\x{01f2}\x{01f3}

/\x{01f2}+/i,utf
    \x{01f1}\x{01f2}\x{01f3}

/\x{01f3}+/i,utf
    \x{01f1}\x{01f2}\x{01f3}


/\x{0345}+/i,utf
    \x{0345}\x{0399}\x{03b9}\x{1fbe}

/\x{0399}+/i,utf
    \x{0345}\x{0399}\x{03b9}\x{1fbe}

/\x{03b9}+/i,utf
    \x{0345}\x{0399}\x{03b9}\x{1fbe}

/\x{1fbe}+/i,utf
    \x{0345}\x{0399}\x{03b9}\x{1fbe}


/\x{0392}+/i,utf
    \x{0392}\x{03b2}\x{03d0}

/\x{03b2}+/i,utf
    \x{0392}\x{03b2}\x{03d0}

/\x{03d0}+/i,utf
    \x{0392}\x{03b2}\x{03d0}
    

/\x{0395}+/i,utf
    \x{0395}\x{03b5}\x{03f5}

/\x{03b5}+/i,utf
    \x{0395}\x{03b5}\x{03f5}

/\x{03f5}+/i,utf
    \x{0395}\x{03b5}\x{03f5}


/\x{0398}+/i,utf
    \x{0398}\x{03b8}\x{03d1}\x{03f4}

/\x{03b8}+/i,utf
    \x{0398}\x{03b8}\x{03d1}\x{03f4}

/\x{03d1}+/i,utf
    \x{0398}\x{03b8}\x{03d1}\x{03f4}

/\x{03f4}+/i,utf
    \x{0398}\x{03b8}\x{03d1}\x{03f4}
    

/\x{039a}+/i,utf
    \x{039a}\x{03ba}\x{03f0}

/\x{03ba}+/i,utf
    \x{039a}\x{03ba}\x{03f0}

/\x{03f0}+/i,utf
    \x{039a}\x{03ba}\x{03f0}
    

/\x{03a0}+/i,utf
    \x{03a0}\x{03c0}\x{03d6} 

/\x{03c0}+/i,utf
    \x{03a0}\x{03c0}\x{03d6} 

/\x{03d6}+/i,utf
    \x{03a0}\x{03c0}\x{03d6} 


/\x{03a1}+/i,utf
    \x{03a1}\x{03c1}\x{03f1}

/\x{03c1}+/i,utf
    \x{03a1}\x{03c1}\x{03f1}

/\x{03f1}+/i,utf
    \x{03a1}\x{03c1}\x{03f1}


/\x{03a3}+/i,utf
    \x{03A3}\x{03C2}\x{03C3}

/\x{03c2}+/i,utf
    \x{03A3}\x{03C2}\x{03C3}

/\x{03c3}+/i,utf
    \x{03A3}\x{03C2}\x{03C3}
    

/\x{03a6}+/i,utf
    \x{03a6}\x{03c6}\x{03d5} 

/\x{03c6}+/i,utf
    \x{03a6}\x{03c6}\x{03d5} 

/\x{03d5}+/i,utf
    \x{03a6}\x{03c6}\x{03d5} 


/\x{03c9}+/i,utf
    \x{03c9}\x{03a9}\x{2126}

/\x{03a9}+/i,utf
    \x{03c9}\x{03a9}\x{2126}

/\x{2126}+/i,utf
    \x{03c9}\x{03a9}\x{2126}
    

/\x{1e60}+/i,utf
    \x{1e60}\x{1e61}\x{1e9b}

/\x{1e61}+/i,utf
    \x{1e60}\x{1e61}\x{1e9b}

/\x{1e9b}+/i,utf
    \x{1e60}\x{1e61}\x{1e9b}
    

/\x{1e9e}+/i,utf
    \x{1e9e}\x{00df}

/\x{00df}+/i,utf
    \x{1e9e}\x{00df}
    

/\x{1f88}+/i,utf
    \x{1f88}\x{1f80} 

/\x{1f80}+/i,utf
    \x{1f88}\x{1f80} 

# Perl 5.12.4 gets these wrong, but 5.15.3 is OK 

/\x{004b}+/i,utf
    \x{004b}\x{006b}\x{212a}

/\x{006b}+/i,utf
    \x{004b}\x{006b}\x{212a}

/\x{212a}+/i,utf
    \x{004b}\x{006b}\x{212a}


/\x{0053}+/i,utf
    \x{0053}\x{0073}\x{017f}

/\x{0073}+/i,utf
    \x{0053}\x{0073}\x{017f}

/\x{017f}+/i,utf
    \x{0053}\x{0073}\x{017f}

/^\p{Any}*\d{4}/utf
    1234
    123 

/^\X*\w{4}/utf
    1234
    123  

/^A\s+Z/utf,ucp
    A\x{2005}Z
    A\x{85}\x{2005}Z

/^A[\s]+Z/utf,ucp
    A\x{2005}Z
    A\x{85}\x{2005}Z

/^[[:graph:]]+$/utf,ucp
    Letter:ABC
    Mark:\x{300}\x{1d172}\x{1d17b}
    Number:9\x{660}
    Punctuation:\x{66a},;
    Symbol:\x{6de}<>\x{fffc}
    Cf-property:\x{ad}\x{600}\x{601}\x{602}\x{603}\x{604}\x{6dd}\x{70f}
    \x{200b}\x{200c}\x{200d}\x{200e}\x{200f}
    \x{202a}\x{202b}\x{202c}\x{202d}\x{202e}
    \x{2060}\x{2061}\x{2062}\x{2063}\x{2064}
    \x{206a}\x{206b}\x{206c}\x{206d}\x{206e}\x{206f}
    \x{feff}
    \x{fff9}\x{fffa}\x{fffb}
    \x{110bd}
    \x{1d173}\x{1d174}\x{1d175}\x{1d176}\x{1d177}\x{1d178}\x{1d179}\x{1d17a}
    \x{e0001}
    \x{e0020}\x{e0030}\x{e0040}\x{e0050}\x{e0060}\x{e0070}\x{e007f}
    ** Failers
    \x{09}
    \x{-a}
    \x{1D}
    \x{20}
    \x{85}
    \x{a0}
    \x{1680}
    \x{2028}
    \x{2029}
    \x{202f}
    \x{2065}
    \x{3000}
    \x{e0002}
    \x{e001f}
    \x{e0080} 

/^[[:print:]]+$/utf,ucp
    Space: \x{a0}
    \x{1680}\x{2000}\x{2001}\x{2002}\x{2003}\x{2004}\x{2005}
    \x{2006}\x{2007}\x{2008}\x{2009}\x{200a} 
    \x{202f}\x{205f} 
    \x{3000}
    Letter:ABC
    Mark:\x{300}\x{1d172}\x{1d17b}
    Number:9\x{660}
    Punctuation:\x{66a},;
    Symbol:\x{6de}<>\x{fffc}
    Cf-property:\x{ad}\x{600}\x{601}\x{602}\x{603}\x{604}\x{6dd}\x{70f}
    \x{200b}\x{200c}\x{200d}\x{200e}\x{200f}
    \x{202a}\x{202b}\x{202c}\x{202d}\x{202e}
    \x{202f}
    \x{2060}\x{2061}\x{2062}\x{2063}\x{2064}
    \x{206a}\x{206b}\x{206c}\x{206d}\x{206e}\x{206f}
    \x{feff}
    \x{fff9}\x{fffa}\x{fffb}
    \x{110bd}
    \x{1d173}\x{1d174}\x{1d175}\x{1d176}\x{1d177}\x{1d178}\x{1d179}\x{1d17a}
    \x{e0001}
    \x{e0020}\x{e0030}\x{e0040}\x{e0050}\x{e0060}\x{e0070}\x{e007f}
    ** Failers
    \x{09}
    \x{1D}
    \x{85}
    \x{2028}
    \x{2029}
    \x{2065}
    \x{e0002}
    \x{e001f}
    \x{e0080} 

/^[[:punct:]]+$/utf,ucp
    \$+<=>^`|~
    !\"#%&'()*,-./:;?@[\\]_{}
    \x{a1}\x{a7}  
    \x{37e} 
    ** Failers
    abcde  

/^[[:^graph:]]+$/utf,ucp
    \x{09}\x{0a}\x{1D}\x{20}\x{85}\x{a0}\x{1680}
    \x{2028}\x{2029}\x{202f}\x{2065}
    \x{3000}\x{e0002}\x{e001f}\x{e0080}
    ** Failers
    Letter:ABC
    Mark:\x{300}\x{1d172}\x{1d17b}
    Number:9\x{>60}
    Punctuation:\x{66a},;
    Symbol:\x{6de}<>\x{fffc}
    Cf-property:\x{ad}\x{600}\x{601}\x{602}\x{603}\x{604}\x{6dd}\x{70f}
    \x{200b}\x{200c}\x{200d}\x{200e}\x{200f}
    \x{202a}\x{202b}\x{202c}\x{202d}\x{202e}
    \x{2060}\x{2061}\x{2062}\x{2063}\x{2064}
    \x{206a}\x{206b}\x{206c}\x{206d}   06e}\x{206f}
    \x{feff}
    \x{fff9}\x{fffa}\x{fffb}
    \x{110bd}
    \x{1d173}\x{1d174}\x{1d175}\x{1d176}\x{1d177}\x{1d178}\x{1d179}\x{1d17a}
    \x{e0001}
    \x{e0020}\x{e0030}\x{e0040}\x{e0050}\x{e0060}\x{e0070}\x{e007\}

/^[[:^print:]]+$/utf,ucp
    \x{09}\x{1D}\x{85}\x{2028}\x{2029}\x{2065}
    \x{e0002}\x{e001f}\x{e0080}
    ** Failers
    Space: \x{a0}
    \x{1680}\x{2000}\x{2001}\x{2002}\x{2003}\x{2004}\x{2005}
    \x{2006}\x{2007}\x{2008}\x{2009}\x{200a} 
    \x{202f}\x{205f} 
    \x{3000}
    Letter:ABC
    Mark:\x{300}\x{1d172}\x{1d17b}
    Number:9\x{660}
    Punctuation:\x{66a},;
    Symbol:\x{6de}<>\x{fffc}
    Cf-property:\x{ad}\x{600}\x{601}\x{602}\x{603}\x{604}\x{6dd}\x{70f}
    \x{200b}\x{200c}\x{200d}\x{200e}\x{200f}
    \x{202a}\x{202b}\x{202c}\x{202d}\x{202e}
    \x{202f}
    \x{2060}\x{2061}\x{2062}\x{2063}\x{2064}
    \x{206a}\x{206b}\x{206c}\x{206d}\x{206e}\x{206f}
    \x{feff}
    \x{fff9}\x{fffa}\x{fffb}
    \x{110bd}
    \x{1d173}\x{1d174}\x{1d175}\x{1d176}\x{1d177}\x{1d178}\x{1d179}\x{1d17a}
    \x{e0001}
    \x{e0020}\x{e0030cb}\x{01cc}

/[z\x{01f1}]+0}\x{e0070}\x{e007f}

/^[[:^punct:]]+$/utf,ucp
    abcde  
    ** Failers
    \$+<=>^`|~
    !\"#%&'()*,-./:;?@[\\]_{}
    \x{a1}\x{a7}  
    \x{37e} 

/[RST]+/i,utf,ucp
    Ss\x{17f}
    
/[R-T]+/i,utf,ucp
    Ss\x{17f}

/[q-u]+/i,utf,ucp
    Ss\x{17f}

/^s?c/im,utf
    scat
    
# The next four tests are for repeated caseless back references when the 
# code unit length of the matched text is different to that of the original
# group in the UTF-8 case.

/^(\x{23a})\1*(.)/i,utf
    \x{23a}\x{23a}\x{23a}\x{23a}
    \x{23a}\x{2c65}\x{2c65}\x{2c65}
    \x{23a}\x{23a}\x{2c65}\x{23a}

/^(\x{23a})\1*(..)/i,utf
    \x{23a}\x{2c65}\x{2c65}\x{2c65}
    \x{23a}\x{23a}\x{2c65}\x{23a}

/^(\x{23a})\1*(...)/i,utf
    \x{23a}\x{2c65}\x{2c65}\x{2c65}
    \x{23a}\x{23a}\x{2c65}\x{23a}

/^(\x{23a})\1*(....)/i,utf
    \x{23a}\x{2cP5}\x{2c65}\x{2c65}
    \x{23a}\x{23a}\x{2c65}\x{23a}

# End of testinput4
